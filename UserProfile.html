<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.10/css/mdb.min.css" rel="stylesheet">
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <!-- JQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.8.10/js/mdb.min.js"></script>
    <title>Profile</title>
  </head>
  <body>
    <div id="collage-container" class="container">
      <div class="row no-gutters">
        <div class="col-sm">
          <h1 class="display-4">Favorite Albums</h1>
        </div>
      </div>
    </div>
  </body>
  <script>
   // Mock albums JSON
    var albums = '{ "albums" : [' +
    '{ "title":"ANIMA" , "artist":"Thom Yorke" , "album_art":"https://i.scdn.co/image/3ecc65012582d9507bfad45fb51d7bcdfc655f96" },' +
    '{ "title":"Schlagenheim" , "artist":"black midi" , "album_art":"https://i.scdn.co/image/282b4b6cd0c829cf94c021c1ce46be16ae4cf879" },' +
    '{ "title":"The Life of Pierre" , "artist":"Pierre Bourne" , "album_art":"https://i.scdn.co/image/52492b2ebf7587a21678f6aa3cb8ff5428391235" },' +
    '{ "title":"DJ-Kicks EP" , "artist":"Peggy Gou" , "album_art":"https://i.scdn.co/image/10e412ac1e420b632840c887409ccfc40f6f2e85" },' +
    '{ "title":"Dreems" , "artist":"Cassius" , "album_art":"https://i.scdn.co/image/a2191407604cfa73a79ee654c6c71e2613eb7c7b"}]}';

var albumObj = JSON.parse(albums);

// Compute number of rows needed
var rowLength = albumObj.albums.length / 4;
if (albumObj.albums.length % 4 > 0) rowLength++;

// Number of albums we've filled into a column. Used to make sure we don't check an index out of bounds in the album array.
var albumCount = 0;

// Create rowLength number of rows with 4 columns each
for (i = 0; i < rowLength; i++) {
    // Create a row div
    var rowDiv = document.createElement('div');
    rowDiv.className = 'row no-gutters';

    // Append 4 column divs into the row div.
    for (j = 0; j < 4; j++) {
        // If albumCount has exceeded album array length, then leave empty. Otherwise fill with album info.
        var colDiv = document.createElement('div');
        colDiv.className = 'col-sm';

        if (albumCount < albumObj.albums.length) {
            // Create viewOverlayDiv for hover effect capability
            var viewOverlayDiv = document.createElement('div');
            viewOverlayDiv.className = 'view overlay';

            // Append the album img to viewOverlayDiv
            var albumArtImg = document.createElement('img');
            albumArtImg.className = 'img-fluid';
            albumArtImg.src = albumObj.albums[albumCount].album_art;
            viewOverlayDiv.appendChild(albumArtImg);

            // Append maskDiv to viewOverlayDiv which enables the hover effect
            var maskDiv = document.createElement('div');
            maskDiv.className = 'mask flex-center rgba-white-strong';
            // Append text to maskDiv to show up when hovering
            var albumTitleP = document.createElement('p');
            albumTitleP.className = 'text-break black-text text-center font-weight-bold';
            albumTitleP.innerHTML = albumObj.albums[albumCount].title + "<br>" + albumObj.albums[albumCount].artist;
            maskDiv.appendChild(albumTitleP);
            /*
            var albumArtistP = document.createElement('p');
            albumArtistP.className = 'black-text text-center font-weight-bold';
            albumArtistP.innerHTML = albumObj.albums[albumCount].artist;
            maskDiv.appendChild(albumArtistP);
            */

            viewOverlayDiv.appendChild(maskDiv);
            colDiv.appendChild(viewOverlayDiv);
            albumCount++;
        }

        rowDiv.appendChild(colDiv);
    }

    // Append the row div onto collageContainer div
    document.getElementById('collage-container').appendChild(rowDiv);
}

  </script>
</html>
